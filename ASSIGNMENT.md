# Backend Developer Assignment

---

## üá∫üá¶ –û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è (Original)

### –ö–æ–Ω—Ç–µ–∫—Å—Ç

–í–∏ —Ä–æ–∑—Ä–æ–±–ª—è—î—Ç–µ backend –¥–ª—è SaaS –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏, —è–∫–∞ –ø—Ä–æ–¥–∞—î –ø—ñ–¥–ø–∏—Å–∫–∏ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è.  
–°–∏—Å—Ç–µ–º–∞ –º–∞—î –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —Ä—ñ–∑–Ω—ñ –º–æ–¥–µ–ª—ñ —Ç–∞—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –±–∞–∑–æ–≤—É —Å–∏—Å—Ç–µ–º—É –∑–Ω–∏–∂–æ–∫.

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏

- NestJS
- PostgreSQL
- ORM (Prisma / TypeORM)
- REST Architecture

### –ë—ñ–∑–Ω–µ—Å-–≤–∏–º–æ–≥–∏

| –ü–ª–∞–Ω | Base Price | Price per Seat | –í–∫–ª—é—á–µ–Ω–æ API calls |
| --- | --- | --- | --- |
| Starter | $29.99/–º—ñ—Å | ‚Äî | 1,000 |
| Professional | $99.49/–º—ñ—Å | $15.75/user | 10,000 |
| Enterprise | $299.90/–º—ñ—Å | $12.30/user | 100,000 |

### –°–∏—Å—Ç–µ–º–∞ –∑–Ω–∏–∂–æ–∫

| –¢–∏–ø –∑–Ω–∏–∂–∫–∏ | –£–º–æ–≤–∞ | –†–æ–∑–º—ñ—Ä |
| --- | --- | --- |
| –ü—Ä–æ–º–æ–∫–æ–¥ | –í–∞–ª—ñ–¥–Ω–∏–π –∫–æ–¥ | –§—ñ–∫—Å–æ–≤–∞–Ω–∞ —Å—É–º–∞ –∞–±–æ % |
| –†—ñ—á–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∞ | billingPeriod = annual | 17% |

### –ü–ª–∞—Ç—ñ–∂–Ω—ñ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∏

–î–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –∫–æ–Ω–≤–µ—Ä—Å—ñ—ó —Ç–∞ –∑—Ä—É—á–Ω–æ—Å—Ç—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Å–∏—Å—Ç–µ–º–∞ –º–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏ —Ä–µ–≥—ñ–æ–Ω–∞–ª—å–Ω–∏–π –ø–ª–∞—Ç—ñ–∂–Ω–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä, –Ω–∞ –æ—Å–Ω–æ–≤—ñ `region`, —è–∫–∏–π –±—É–≤ –æ–±—Ä–∞–Ω–∏–π –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.

| –†–µ–≥—ñ–æ–Ω | Provider |
| --- | --- |
| `UA` | Monobank |
| `BR` | PIX |
| All other regions | Stripe |

‚ö†Ô∏è –Ü–º–ø–ª–µ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –ø–æ–≤–Ω—É —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é —ñ–∑ —Å–µ—Ä–≤—ñ—Å–∞–º–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ, –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–æ–∫—É —Å–µ—Ä–≤—ñ—Å-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.

### User Flow

Register ‚Üí Login ‚Üí Calculate Price ‚Üí Subscribe

### –û—Å–Ω–æ–≤–Ω—ñ —Ç–æ—á–∫–∏ –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è

- –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É
- –ö–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏
- –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å
- –Ø–∫—ñ—Å—Ç—å API
- –†–æ–±–æ—Ç–∞ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

### –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ù–∞ –≤–∏—Ö–æ–¥—ñ –æ—á—ñ–∫—É—î—Ç—å—Å—è monolith mini-app –Ω–∞ **NestJS**, —è–∫–∏–π —Ä–µ–∞–ª—ñ–∑—É—î:

- –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—é —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑—ñ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º —É –ë–î
- –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é
- Mock-—Å–µ—Ä–≤—ñ—Å–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø–ª–∞—Ç—ñ–∂–Ω–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤
- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ü—ñ–Ω–∏ –∑ —Å–∏—Å—Ç–µ–º–æ—é –∑–Ω–∏–∂–æ–∫ (–ø—Ä–æ–º–æ–∫–æ–¥–∏ + —Ä—ñ—á–Ω–∞ –∑–Ω–∏–∂–∫–∞)
- –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ mock-–ø—Ä–æ–≤–∞–π–¥–µ—Ä –æ–ø–ª–∞—Ç–∏ –∑ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º –¥–∞–Ω–∏—Ö
- CRUD –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
- **Seed script** –∑ —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –ø–ª–∞–Ω–∞–º–∏ —Ç–∞ –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏
- **Swagger UI** –Ω–∞ `/api/docs` (optional)
- Docker (optional)

---

## üá¨üáß Assignment Description (English)

### Context

You are building a backend for a SaaS platform that sells software subscriptions.  
The system must support user authentication, multiple pricing models, and a basic discount system.

### Technical Requirements

- NestJS
- PostgreSQL
- ORM (Prisma / TypeORM)
- REST architecture

### Business Requirements

| Plan | Base Price | Price per Seat | Included API calls |
| --- | --- | --- | --- |
| Starter | $29.99/month | ‚Äî | 1,000 |
| Professional | $99.49/month | $15.75/user | 10,000 |
| Enterprise | $299.90/month | $12.30/user | 100,000 |

### Discount System

| Discount Type | Condition | Value |
| --- | --- | --- |
| Promo code | Valid code | Fixed amount or percentage |
| Annual subscription | billingPeriod = annual | 17% |

### Payment Providers

To improve conversion and user experience, the system should automatically select a regional payment provider based on the `region` chosen during registration.

| Region | Provider |
| --- | --- |
| `UA` | Monobank |
| `BR` | PIX |
| All other regions | Stripe |

‚ö†Ô∏è Full integration with payment services is not required.  
Using mock service providers is sufficient.

### User Flow

Register ‚Üí Login ‚Üí Calculate Price ‚Üí Subscribe

### Evaluation Criteria

- Architecture and project structure
- Correctness of business logic
- Reliability
- API quality
- Database design

### Expected Outcome

The expected result is a monolithic mini-app built with **NestJS** that implements:

- User registration and authentication with database persistence
- Access control and authorization
- Mock services for different payment providers
- Pricing calculator with a discount system (promo codes + annual discount)
- Subscription creation via a mock payment provider with data persistence
- Read-only CRUD endpoints
- **Seed script** with test plans and promo codes
- **Swagger UI** available at `/api/docs` (optional)
- Docker support (optional)
